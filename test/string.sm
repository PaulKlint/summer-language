#					#
# string -- basic string functions 	#
#					#

proc error(n) put('ERROR: ', n, '\n');

program tstring()
( var n, s;

  n := 0;
  if 'a' ~= 'a' then error(n+0) fi;
  if 'a' = 'b' then error(n+1) fi;
  if 'ab' ~= 'ab' then error(n+2) fi;
  if '' ~= '' then error(n+3) fi;
  if 'abc' = 'ab' then error(n+4) fi;
  if 'c' < 'b' | 'c' <= 'b' then error(n+5) fi;
  if 'b' > 'c' | 'b' >= 'c' then error(n+6) fi;
  if 'abc' < 'abb' | 'abc' <= 'abb' then error(n+7) fi;
  if 'abb' > 'abc' | 'abb' >= 'abc' then error(n+8) fi;
  if 'abc' < 'ab' | 'abc' <= 'ab' then error(n+9) fi;
  if 'ab' > 'abc' | 'ab' >= 'abc' then error(n+10) fi;

  n := 10;
  if 'a' || 'b' ~= 'ab' then error(n+0) fi;
  if 'a' || 'b' || 'c' ~= 'abc' then error(n+1) fi;
  if 'a' || '' ~= 'a' then error(n+2) fi;
  if '' || 'a' ~= 'a' then error(n+3) fi;
  if 'a' || '' || 'b' ~= 'ab' then error(n+4) fi;
  if '' || '' ~= '' then error(n+5) fi;

  n := 20;
  if 'a'.reverse ~= 'a' then error(n+0) fi;
  if 'ab'.reverse ~= 'ba' then error(n+1) fi;
  if ''.reverse ~= '' then error(n+2) fi;
  if '1234567890'.reverse ~= '0987654321' then error(n+3) fi;

  n := 30;
  if ''.repl(2) ~= '' then error(n+0) fi;
  if ''.repl(0) ~= '' then error(n+1) fi;
  if 'a'.repl(0) ~= '' then error(n+2) fi;
  if 'a'.repl(1) ~= 'a' then error(n+3) fi;
  if 'a'.repl(5) ~= 'aaaaa' then error(n+4) fi;
  if 'ab'.repl(0) ~= '' then error(n+5) fi;
  if 'ab'.repl(1) ~= 'ab' then error(n+6) fi;
  if 'ab'.repl(5) ~= 'ababababab' then error(n+7) fi;

  n := 40;
  if ''.left(0, '.') ~= '' then error(n+0) fi;
  if ''.left(5, '.') ~= '.....' then error(n+1) fi;
  if 'a'.left(0, '.') ~= '' then error(n+2) fi;
  if 'a'.left(1, '.') ~= 'a' then error(n+3) fi;
  if 'a'.left(5, '.') ~= 'a....' then error(n+4) fi;
  if 'a'.left(5, '. ') ~= 'a. . ' then error(n+5) fi;
  if 'a'.left(4, '. ') ~= 'a . ' then error(n+6) fi;
  if 'ab'.left(5, '.') ~= 'ab...' then error(n+7) fi;
  if 'ab'.left(5, '. ') ~= 'ab . ' then error(n+8) fi;

  n := 50;
  if ''.right(0, '.') ~= '' then error(n+0) fi;
  if ''.right(5, '.') ~= '.....' then error(n+1) fi;
  if 'ab'.right(0, '.') ~= '' then error(n+2) fi;
  if 'ab'.right(1, '.') ~= 'b' then error(n+3) fi;
  if 'ab'.right(5, '.') ~= '...ab' then error(n+4) fi;
  if 'ab'.right(5, '. ') ~= '. .ab' then error(n+5) fi;

  n := 60;
  if ''.center(0, '.') ~= '' then error(n+0) fi;
  if ''.center(5, '.') ~= '.....' then error(n+1) fi;
  if 'a'.center(0, '.') ~= '' then error(n+2) fi;
  if 'a'.center(1, '.') ~= 'a' then error(n+3) fi;
  if 'a'.center(5, '.') ~= '..a..' then error(n+4) fi;
  if 'a'.center(4, '.') ~= '.a..' then error(n+5) fi;
  if 'a'.center(6, '. ') ~= '. a . ' then error(n+6) fi;
  if 'a'.center(7, '. ') ~= '. .a . ' then error(n+7) fi;
  if 'ab'.center(5, '.') ~= '.ab..' then error(n+8) fi;

  n := 70;
  if 'abcba'.replace('a', '*') ~= '*bcb*' then error(n+0) fi;
  if 'abcba'.replace('ac', '**') ~= '*b*b*' then error(n+1) fi;
  if 'abcba'.replace('aa', '*-') ~= '-bcb-' then error(n+2) fi;
  if 'abcba'.replace('ax', '*-') ~= '*bcb*' then error(n+3) fi;
  if 'abcba'.replace('xy', '*-') ~= 'abcba' then error(n+4) fi;
  if 'abcba'.replace('a', '') ~= 'bcb' then error(n+5) fi;
  if 'abcba'.replace('b', '') ~= 'aca' then error(n+6) fi;
  if 'abcba'.replace('', '') ~= 'abcba' then error(n+7) fi;
  if ''.replace('', '') ~= '' then error(n+8) fi;

  n := 80;
  s := 'abcde';
  if s.substr(0, 5) ~= 'abcde' then error(n+1) fi;
  if s.substr(1, 5) ~= 'bcde' then error(n+2) fi;
  if s.substr(2, 5) ~= 'cde' then error(n+3) fi;
  if s.substr(3, 5) ~= 'de' then error(n+4) fi;
  if s.substr(4, 5) ~= 'e' then error(n+5) fi;
  if s.substr(4, 0) ~= '' then error(n+6) fi;
  if s.substr(4, 1) ~= 'e' then error(n+7) fi;
  if s.substr(3, 2) ~= 'de' then error(n+8) fi;
  if s.substr(2, 3) ~= 'cde' then error(n+9) fi;
  if s.substr(1, 4) ~= 'bcde' then error(n+10) fi;
  if s.substr(0, 5) ~= 'abcde' then error(n+11) fi;

  if s.substr(0, 0) ~= '' then error(n+12) fi;
  if s.substr(0, 1) ~= 'a' then error(n+13) fi;
  if s.substr(1, 1) ~= 'b' then error(n+14) fi;
  if s.substr(2, 1) ~= 'c' then error(n+15) fi;
  if s.substr(3, 1) ~= 'd' then error(n+16) fi;
  if s.substr(4, 1) ~= 'e' then error(n+17) fi;
)
