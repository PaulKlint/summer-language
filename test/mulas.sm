#					#
# mulas -- multiple assign		#
#					#

proc error(n) put('ERROR: ', n, '\n');

proc p() return([1, 2, 3]);

proc q(x, y) return([x, x, y, y]);

program mulas()
( var a, b, c, d, x;
  [a, b, c, d] := [10, 20, 30, 40];

  if a ~= 10 | b ~= 20 | c ~= 30 | d ~= 40 then error(1) fi;

  [a, b] := [b, a];
  if a ~= 20 | b ~= 10 then error(2) fi;

  [a, b] := [10, 20];
  [a, b] := [a + 1, a + 2];
  if a ~= 11 | b ~= 12 then error(3) fi;

  [a, b, c] := p();
  if a ~= 1 | b ~= 2 | c ~= 3 then error(4) fi;

  [a, b, c, d] := q('PQ', 'RS');
  if a ~= 'PQ' | b ~= 'PQ' | c ~= 'RS' | d ~= 'RS' then error(5) fi;

  [a, b] := [10, 11];
  [c, d] := [20, 21];

  if c > a then [a, b] else [c, d] fi := [30, 31];
  if a ~= 30 | b ~= 31 | c ~= 20 | d ~= 21 then error(6) fi;

  x := 1;
  [a, b, c, d] := [x, x:=x+1, x:=x+1, x:=x+1];
  if a~= 1 | b ~= 2 | c ~= 3 | d ~= 4 then error(7) fi;

  x := [a, b] := [10, 20];

  if a ~= 10 | b ~= 20 | x ~= 20 then error(8) fi;

  [a, b] := [[c, d] := [30, 40], 50];
  if a ~= 40 | b ~= 50 | c ~= 30 | d ~= 40 then error(9) fi;
)
