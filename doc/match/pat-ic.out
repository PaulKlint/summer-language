---------------------------------- IMMEDIATE/CONDITIONAL


subject_string: abc pattern: "abc"
 match(0, ,"abc")
 returns [3, , ]
succeeds;cursor=3;action=;pat=

subject_string: abc pattern: "a"--"bc"
 match(0, ,"a"--"bc")
   match(0, ,"a")
   returns [1, , ]
   match(1, ,"bc")
   returns [3, , ]
 returns [3, , ]
succeeds;cursor=3;action=;pat=

subject_string: ac pattern: "ab"|"ac"
 match(0, ,"ab"|"ac")
   match(0, ,"ab")
   fails
   match(0, ,"ac")
   returns [2, , ]
 returns [2, , ]
succeeds;cursor=2;action=;pat=

subject_string: abe pattern: "ab"--("c"|"e")
 match(0, ,"ab"--("c"|"e"))
   match(0, ,"ab")
   returns [2, , ]
   match(2, ,("c"|"e"))
     match(2, ,"c"|"e")
       match(2, ,"c")
       fails
       match(2, ,"e")
       returns [3, , ]
     returns [3, , ]
   returns [3, , ]
 returns [3, , ]
succeeds;cursor=3;action=;pat=

subject_string: abe pattern: ("a"|"ab")--"e"
 match(0, ,("a"|"ab")--"e")
   match(0, ,("a"|"ab"))
     match(0, ,"a"|"ab")
       match(0, ,"a")
       returns [1, , ]
     returns [1, , <0,,"ab">]
   returns [1, , <0,,"ab">]
   match(1, ,"e")
   fails
   match(0, ,<0,,"ab">--"e")
     match(0, ,<0,,"ab">)
       match(0, ,"ab")
       returns [2, , ]
     returns [2, , ]
     match(2, ,"e")
     returns [3, , ]
   returns [3, , ]
 returns [3, , ]
succeeds;cursor=3;action=;pat=

subject_string: abe pattern: ("a"|"ab")--("c"|"e")
 match(0, ,("a"|"ab")--("c"|"e"))
   match(0, ,("a"|"ab"))
     match(0, ,"a"|"ab")
       match(0, ,"a")
       returns [1, , ]
     returns [1, , <0,,"ab">]
   returns [1, , <0,,"ab">]
   match(1, ,("c"|"e"))
     match(1, ,"c"|"e")
       match(1, ,"c")
       fails
       match(1, ,"e")
       fails
     fails
     match(0, ,<0,,"ab">--("c"|"e"))
       match(0, ,<0,,"ab">)
         match(0, ,"ab")
         returns [2, , ]
       returns [2, , ]
       match(2, ,("c"|"e"))
         match(2, ,"c"|"e")
           match(2, ,"c")
           fails
           match(2, ,"e")
           returns [3, , ]
         returns [3, , ]
       returns [3, , ]
     returns [3, , ]
   returns [3, , ]
succeeds;cursor=3;action=;pat=

subject_string: abc pattern: imsbas("a",x)
   match(0, ,imsbas("a",x))
     match(0, ,"a")
     returns [1, , ]
   returns [1, , ]
succeeds;cursor=1;action=;pat=

subject_string: abc pattern: cdsbas("a",x)
   match(0, ,cdsbas("a",x))
     match(0, ,"a")
     returns [1, , ]
   returns [1, x:="a", ]
succeeds;cursor=1;action=x:="a";pat=

subject_string: aa pattern: imsbas("a",x)--(*x)
   match(0, ,imsbas("a",x)--(*x))
     match(0, ,imsbas("a",x))
       match(0, ,"a")
       returns [1, , ]
     returns [1, , ]
     match(1, ,(*x))
       match(1, ,*x)
         match(1, ,"a")
         returns [2, , ]
       returns [2, , ]
     returns [2, , ]
succeeds;cursor=2;action=;pat=

subject_string: abc pattern: imact(x:="xxxx")
     match(0, ,imact(x:="xxxx"))
     returns [0, , ]
succeeds;cursor=0;action=;pat=

subject_string: abc pattern: imact(x:="abc")--(*x)
     match(0, ,imact(x:="abc")--(*x))
       match(0, ,imact(x:="abc"))
       returns [0, , ]
       match(0, ,(*x))
         match(0, ,*x)
           match(0, ,"abc")
           returns [3, , ]
         returns [3, , ]
       returns [3, , ]
succeeds;cursor=3;action=;pat=

subject_string: abc pattern: cdact(x:="yy")
       match(0, ,cdact(x:="yy"))
       returns [0, x:="yy", cdact(x:="yy")]
succeeds;cursor=0;action=x:="yy";pat=cdact(x:="yy")

subject_string: abc pattern: cdact(x:="yy")--"a"
       match(0, ,cdact(x:="yy")--"a")
         match(0, ,cdact(x:="yy"))
         returns [0, x:="yy", cdact(x:="yy")]
         match(0,x:="yy","a")
         returns [1, x:="yy", ]
       returns [1, x:="yy", <0,,cdact(x:="yy")>--"a"]
succeeds;cursor=1;action=x:="yy";pat=<0,,cdact(x:="yy")>--"a"

subject_string: abc pattern: (cdact(x:="yy")--cdact(y:="xx"))--cdact(z:=x)
       match(0, ,(cdact(x:="yy")--cdact(y:="xx"))--cdact(z:=x))
         match(0, ,(cdact(x:="yy")--cdact(y:="xx")))
           match(0, ,cdact(x:="yy")--cdact(y:="xx"))
             match(0, ,cdact(x:="yy"))
             returns [0, x:="yy", cdact(x:="yy")]
             match(0,x:="yy",cdact(y:="xx"))
             returns [0, x:="yy";y:="xx", cdact(y:="xx")]
           returns [0, x:="yy";y:="xx", <0,x:="yy",cdact(y:="xx")>|<0,,cdact(x:="yy")>--cdact(y:="xx")]
         returns [0, x:="yy";y:="xx", <0,x:="yy",cdact(y:="xx")>|<0,,cdact(x:="yy")>--cdact(y:="xx")]
         match(0,x:="yy";y:="xx",cdact(z:=x))
         returns [0, x:="yy";y:="xx";z:=x, cdact(z:=x)]
       returns [0, x:="yy";y:="xx";z:=x, <0,x:="yy";y:="xx",cdact(z:=x)>|<0,,<0,x:="yy",cdact(y:="xx")>|<0,,cdact(x:="yy")>--cdact(y:="xx")>--cdact(z:=x)]
succeeds;cursor=0;action=x:="yy";y:="xx";z:=x;pat=<0,x:="yy";y:="xx",cdact(z:=x)>|<0,,<0,x:="yy",cdact(y:="xx")>|<0,,cdact(x:="yy")>--cdact(y:="xx")>--cdact(z:=x)

subject_string: cd pattern: cdsbas("b"|"c",zzz)--"d"
       match(0, ,cdsbas("b"|"c",zzz)--"d")

ERROR

Error: procedure should return a value
480-486:	in procedure match
502-510:	match(0,'','cdsbas("b"|"c",zzz)--"d"')
513-537:	do_match(0,['abc','','"abc"',...])
511:	matchic([])
